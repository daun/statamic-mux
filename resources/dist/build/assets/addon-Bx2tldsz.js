const{resolveComponent:x,resolveDirective:w,createElementBlock:a,openBlock:t,withDirectives:n,createBlock:r,withCtx:d,createTextVNode:_,toDisplayString:i,Fragment:v,createVNode:h,createCommentVNode:p,createElementVNode:u,renderList:P}=window.Vue,{Fieldtype:H,IndexFieldtype:J,FieldtypeMixin:A,IndexFieldtypeMixin:E,DateFormatter:K,ItemActions:Q,requireElevatedSession:W,requireElevatedSessionIf:X}=__STATAMIC__.core,V=(l,s)=>{const f=l.__vccOpts||l;for(const[k,m]of s)f[k]=m;return f},F={mixins:[A],data(){return{detailsExpanded:!1}},computed:{showReuploadToggle(){return this.allowReuploads&&!this.isProxy},allowReuploads(){return this.config?.allow_reupload},showDetails(){return this.config?.show_details},isAsset(){return this.meta?.is_asset||!1},isVideo(){return this.meta?.is_video||!1},isUploaded(){return!!this.value.id},isProxy(){return this.meta?.is_proxy||!1},playbackIds(){return Object.entries(this.value.playback_ids||{})}},methods:{t(l,s={}){return __(`statamic-mux::messages.fieldtype.${l}`,s)}}},M={class:"grid grid-cols-[minmax(0,1fr)] gap-3 justify-items-start"},U={class:"flex flex-wrap gap-2"},S={class:"w-full text-sm text-gray-600 dark:text-gray-300"},C={class:"divide-y divide-gray-800/10 dark:divide-white/10 [&_td]:px-1.5! [&_td]:py-2! [&_td:first-child]:pl-4! [&_td:last-child]:pr-4! [&_td]:text-left [&_svg]:opacity-60"},T={key:"id"},R={key:0},q={key:1};function N(l,s,f,k,m,e){const o=x("ui-badge"),g=x("ui-checkbox"),b=x("ui-icon"),I=x("ui-card"),c=w("tooltip");return t(),a("div",M,[!e.isAsset||!e.isVideo?n((t(),r(o,{key:0,pill:"",icon:"focus",color:"white"},{default:d(()=>[_(i(e.t("unmirrored")),1)]),_:1})),[[c,e.t(e.isVideo?"unmirrored_no_asset":"unmirrored_no_video")]]):e.isUploaded?(t(),a(v,{key:2},[u("div",U,[n((t(),r(o,{pill:"",icon:"checkmark",color:"green"},{default:d(()=>[_(i(e.t("uploaded")),1)]),_:1})),[[c,e.t("uploaded_tooltip")]]),e.isProxy?n((t(),r(o,{key:0,pill:"",icon:"page-ghost"},{default:d(()=>[_(i(e.t("proxy")),1)]),_:1})),[[c,e.t("proxy_tooltip")]]):p("",!0),e.showDetails?n((t(),r(o,{key:1,pill:"",icon:"info-square",as:"button",onClick:s[1]||(s[1]=y=>m.detailsExpanded=!m.detailsExpanded)},{default:d(()=>[_(i(e.t("details")),1)]),_:1})),[[c,e.t("details_tooltip")]]):p("",!0)]),e.showDetails&&m.detailsExpanded?(t(),r(I,{key:0,inset:"",variant:"flat",class:"w-full overflow-auto"},{default:d(()=>[u("table",S,[u("tbody",C,[u("tr",T,[u("td",null,[n(h(b,{name:"fingerprint"},null,512),[[c,"MuxÂ ID"]])]),u("td",null,i(l.value.id),1)]),(t(!0),a(v,null,P(e.playbackIds,([y,D])=>(t(),a("tr",{key:D},[y==="signed"?(t(),a("td",R,[n(h(b,{name:"key"},null,512),[[c,"Signed Playback ID"]])])):(t(),a("td",q,[n(h(b,{name:"globals"},null,512),[[c,"Public Playback ID"]])])),u("td",null,i(l.value.id),1)]))),128))])])]),_:1})):p("",!0),e.showReuploadToggle?(t(),r(g,{key:1,modelValue:l.value.reupload,"onUpdate:modelValue":s[2]||(s[2]=y=>l.value.reupload=y),name:"reupload",label:e.t("reupload_on_save")},null,8,["modelValue","label"])):p("",!0)],64)):(t(),a(v,{key:1},[h(o,{pill:"",icon:"x-square",color:"amber"},{default:d(()=>[_(i(e.t("not_uploaded")),1)]),_:1}),e.showReuploadToggle?(t(),r(g,{key:0,modelValue:l.value.reupload,"onUpdate:modelValue":s[0]||(s[0]=y=>l.value.reupload=y),name:"reupload",label:e.t("upload_on_save")},null,8,["modelValue","label"])):p("",!0)],64))])}const B=V(F,[["render",N]]),j={mixins:[E],mounted(){console.log(this.value),console.log(this.values),console.log({extension:this.extension,isAsset:this.isAsset,isVideo:this.isVideo,isUploaded:this.isUploaded,isProxy:this.isProxy})},computed:{extension(){return this.values.extension.toLowerCase()},isAsset(){return this.values.basename&&this.values.extension},isVideo(){return["h264","mp4","m4v","ogv","webm","mov"].includes(this.extension)},isUploaded(){return this.value?.id||!1},isProxy(){return this.value?.is_proxy||!1}},methods:{t(l,s={}){return __(`statamic-mux::messages.fieldtype.${l}`,s)}}},L={key:0,class:"flex flex-wrap gap-2"},O={class:"sr-only"};function z(l,s,f,k,m,e){const o=x("ui-badge"),g=w("tooltip");return e.isAsset&&e.isVideo?(t(),a("div",L,[e.isUploaded?(t(),a(v,{key:1},[h(o,{pill:"",color:"green"},{default:d(()=>[_(i(e.t("uploaded")),1)]),_:1}),e.isProxy?n((t(),r(o,{key:0,pill:"",icon:"page-ghost"},{default:d(()=>[u("span",O,i(e.t("proxy")),1)]),_:1})),[[g,e.t("proxy_tooltip")]]):p("",!0)],64)):(t(),r(o,{key:0,pill:"",color:"amber"},{default:d(()=>[_(i(e.t("not_uploaded")),1)]),_:1}))])):p("",!0)}const G=V(j,[["render",z]]);Statamic.$components.register("mux_mirror-fieldtype",B);Statamic.$components.register("mux_mirror-fieldtype-index",G);
