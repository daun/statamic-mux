const{resolveComponent:f,resolveDirective:w,createElementBlock:o,openBlock:t,withDirectives:r,createBlock:s,withCtx:y,createTextVNode:x,toDisplayString:u,Fragment:b,createVNode:h,createCommentVNode:d,createElementVNode:c,renderList:E}=window.Vue,{Fieldtype:G,IndexFieldtype:H,FieldtypeMixin:F,IndexFieldtypeMixin:M,DateFormatter:J,ItemActions:K,requireElevatedSession:Q,requireElevatedSessionIf:W}=__STATAMIC__.core,V=(l,a)=>{const g=l.__vccOpts||l;for(const[v,_]of a)g[v]=_;return g},P={mixins:[F],data(){return{detailsExpanded:!1}},computed:{showReuploadToggle(){return this.allowReuploads&&!this.isProxy},allowReuploads(){return this.config?.allow_reupload},showDetails(){return this.config?.show_details},isAsset(){return this.meta?.is_asset||!1},isVideo(){return this.meta?.is_video||!1},isUploaded(){return!!this.value.id},isProxy(){return this.meta?.is_proxy||!1},playbackIds(){return Object.entries(this.value.playback_ids||{})}},methods:{t(l,a={}){return __(`statamic-mux::messages.fieldtype.${l}`,a)}}},U={class:"grid grid-cols-[minmax(0,1fr)] gap-3 justify-items-start"},A={class:"flex flex-wrap gap-2"},S={class:"w-full text-xs text-gray-600 dark:text-gray-300"},C={class:"divide-y divide-gray-800/10 dark:divide-white/10 [&_td]:px-1.5! [&_td]:py-2! [&_td:first-child]:pl-3! [&_td:last-child]:pr-3! [&_td]:text-left [&_svg]:opacity-60"},T={key:"id"},q={key:0},R={key:1};function N(l,a,g,v,_,e){const i=f("ui-badge"),m=f("ui-checkbox"),k=f("ui-icon"),I=f("ui-card"),n=w("tooltip");return t(),o("div",U,[!e.isAsset||!e.isVideo?r((t(),s(i,{key:0,pill:"",icon:"focus",color:"white"},{default:y(()=>[x(u(e.t("unmirrored")),1)]),_:1})),[[n,e.t(e.isVideo?"unmirrored_no_asset":"unmirrored_no_video")]]):e.isUploaded?(t(),o(b,{key:2},[c("div",A,[r((t(),s(i,{pill:"",icon:"checkmark",color:"green"},{default:y(()=>[x(u(e.t("uploaded")),1)]),_:1})),[[n,e.t("uploaded_tooltip")]]),e.isProxy?r((t(),s(i,{key:0,pill:"",icon:"page-ghost"},{default:y(()=>[x(u(e.t("proxy")),1)]),_:1})),[[n,e.t("proxy_tooltip")]]):d("",!0),e.showDetails?r((t(),s(i,{key:1,pill:"",icon:"info-square",as:"button",onClick:a[1]||(a[1]=p=>_.detailsExpanded=!_.detailsExpanded)},{default:y(()=>[x(u(e.t("details")),1)]),_:1})),[[n,e.t("details_tooltip")]]):d("",!0)]),e.showDetails&&_.detailsExpanded?(t(),s(I,{key:0,inset:"",variant:"flat",class:"w-full overflow-auto bg-gray-50! dark:bg-dark-800!"},{default:y(()=>[c("table",S,[c("tbody",C,[c("tr",T,[c("td",null,[r(h(k,{name:"fingerprint"},null,512),[[n,"MuxÂ ID"]])]),c("td",null,u(l.value.id),1)]),(t(!0),o(b,null,E(e.playbackIds,([p,D])=>(t(),o("tr",{key:D},[p==="signed"?(t(),o("td",q,[r(h(k,{name:"key"},null,512),[[n,"Signed Playback ID"]])])):(t(),o("td",R,[r(h(k,{name:"globals"},null,512),[[n,"Public Playback ID"]])])),c("td",null,u(l.value.id),1)]))),128))])])]),_:1})):d("",!0),e.showReuploadToggle?(t(),s(m,{key:1,modelValue:l.value.reupload,"onUpdate:modelValue":a[2]||(a[2]=p=>l.value.reupload=p),name:"reupload",label:e.t("reupload_on_save")},null,8,["modelValue","label"])):d("",!0)],64)):(t(),o(b,{key:1},[h(i,{pill:"",icon:"x-square",color:"amber"},{default:y(()=>[x(u(e.t("not_uploaded")),1)]),_:1}),e.showReuploadToggle?(t(),s(m,{key:0,modelValue:l.value.reupload,"onUpdate:modelValue":a[0]||(a[0]=p=>l.value.reupload=p),name:"reupload",label:e.t("upload_on_save")},null,8,["modelValue","label"])):d("",!0)],64))])}const B=V(P,[["render",N]]),j={mixins:[M],computed:{extension(){return this.values.extension.toLowerCase()},isAsset(){return this.values.basename&&this.values.extension},isVideo(){return["h264","mp4","m4v","ogv","webm","mov"].includes(this.extension)},isUploaded(){return this.value?.id||!1},isProxy(){return this.value?.is_proxy||!1}},methods:{t(l,a={}){return __(`statamic-mux::messages.fieldtype.${l}`,a)}}},L={key:0,class:"flex flex-wrap items-center gap-2"};function O(l,a,g,v,_,e){const i=f("ui-icon"),m=w("tooltip");return e.isAsset&&e.isVideo?(t(),o("div",L,[e.isUploaded?d("",!0):r((t(),s(i,{key:0,name:"x-square",class:"text-gray-400 dark:text-gray-600"},null,512)),[[m,e.t("not_uploaded")]]),e.isUploaded?r((t(),s(i,{key:1,name:"checkmark",class:"text-green-600"},null,512)),[[m,e.t("uploaded")]]):d("",!0),e.isUploaded&&e.isProxy?r((t(),s(i,{key:2,name:"page-ghost",class:"size-3.5!"},null,512)),[[m,e.t("proxy")]]):d("",!0)])):d("",!0)}const z=V(j,[["render",O]]);Statamic.$components.register("mux_mirror-fieldtype",B);Statamic.$components.register("mux_mirror-fieldtype-index",z);
