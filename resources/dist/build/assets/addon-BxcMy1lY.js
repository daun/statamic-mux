const{Fieldtype:W,IndexFieldtype:L,FieldtypeMixin:T,HasActionsMixin:G,HasInputOptionsMixin:Q,HasPreferencesMixin:J,IndexFieldtypeMixin:M,InlineEditForm:X,DateFormatter:Y,ItemActions:Z,RelatedItem:$,RestoreRevision:ee,RevisionHistory:te,RevisionPreview:oe,SaveButtonOptions:re,SortableList:se,requireElevatedSession:ie,requireElevatedSessionIf:ae,clone:ne,deepClone:le,resetValuesFromResponse:de}=__STATAMIC__.core,V=window.Vue,{BaseTransition:ue,BaseTransitionPropsValidators:ce,Comment:pe,DeprecationTypes:me,EffectScope:fe,ErrorCodes:ye,ErrorTypeStrings:_e,Fragment:w,KeepAlive:he,ReactiveEffect:ve,Static:xe,Suspense:ge,Teleport:ke,Text:we,TrackOpTypes:Re,Transition:Se,TransitionGroup:Ce,TriggerOpTypes:be,VueElement:Te,__esModule:Me,assertNumber:Ve,callWithAsyncErrorHandling:Ee,callWithErrorHandling:Ie,camelize:Pe,capitalize:De,cloneVNode:Ae,compatUtils:Fe,compile:Ue,computed:He,createApp:Oe,createBlock:s,createCommentVNode:n,createElementBlock:l,createElementVNode:u,createHydrationRenderer:Be,createPropsRestProxy:Ne,createRenderer:qe,createSSRApp:ze,createSlots:je,createStaticVNode:Ke,createTextVNode:_,createVNode:x,customRef:We,defineAsyncComponent:Le,defineComponent:Ge,defineCustomElement:Qe,defineEmits:Je,defineExpose:Xe,defineModel:Ye,defineOptions:Ze,defineProps:$e,defineSSRCustomElement:et,defineSlots:tt,devtools:ot,effect:rt,effectScope:st,getCurrentInstance:it,getCurrentScope:at,getCurrentWatcher:nt,getTransitionRawChildren:lt,guardReactiveProps:dt,h:ut,handleError:ct,hasInjectionContext:pt,hydrate:mt,hydrateOnIdle:ft,hydrateOnInteraction:yt,hydrateOnMediaQuery:_t,hydrateOnVisible:ht,initCustomFormatter:vt,initDirectivesForSSR:xt,inject:gt,isMemoSame:kt,isProxy:wt,isReactive:Rt,isReadonly:St,isRef:Ct,isRuntimeOnly:bt,isShallow:Tt,isVNode:Mt,markRaw:Vt,mergeDefaults:Et,mergeModels:It,mergeProps:Pt,nextTick:Dt,nodeOps:At,normalizeClass:Ft,normalizeProps:Ut,normalizeStyle:Ht,onActivated:Ot,onBeforeMount:Bt,onBeforeUnmount:Nt,onBeforeUpdate:qt,onDeactivated:zt,onErrorCaptured:jt,onMounted:Kt,onRenderTracked:Wt,onRenderTriggered:Lt,onScopeDispose:Gt,onServerPrefetch:Qt,onUnmounted:Jt,onUpdated:Xt,onWatcherCleanup:Yt,openBlock:t,patchProp:Zt,popScopeId:$t,provide:eo,proxyRefs:to,pushScopeId:oo,queuePostFlushCb:ro,reactive:so,readonly:io,ref:ao,registerRuntimeCompiler:no,render:lo,renderList:E,renderSlot:uo,resolveComponent:h,resolveDirective:S,resolveDynamicComponent:co,resolveFilter:po,resolveTransitionHooks:mo,setBlockTracking:fo,setDevtoolsHook:yo,setTransitionHooks:_o,shallowReactive:ho,shallowReadonly:vo,shallowRef:xo,ssrContextKey:go,ssrUtils:ko,stop:wo,toDisplayString:c,toHandlerKey:Ro,toHandlers:So,toRaw:Co,toRef:bo,toRefs:To,toValue:Mo,transformVNodeArgs:Vo,triggerRef:Eo,unref:Io,useAttrs:Po,useCssModule:Do,useCssVars:Ao,useHost:Fo,useId:Uo,useModel:Ho,useSSRContext:Oo,useShadowRoot:Bo,useSlots:No,useTemplateRef:qo,useTransitionState:zo,vModelCheckbox:jo,vModelDynamic:Ko,vModelRadio:Wo,vModelSelect:Lo,vModelText:Go,vShow:Qo,version:Jo,warn:Xo,watch:Yo,watchEffect:Zo,watchPostEffect:$o,watchSyncEffect:er,withAsyncContext:tr,withCtx:y,withDefaults:or,withDirectives:i,withKeys:rr,withMemo:sr,withModifiers:ir,withScopeId:ar}=V,C=(o,r)=>{const v=o.__vccOpts||o;for(const[g,p]of r)v[g]=p;return v},I={mixins:[T],data(){return{detailsExpanded:!1}},computed:{showReuploadToggle(){return this.allowReuploads&&!this.isProxy},allowReuploads(){return this.config?.allow_reupload},showDetails(){return this.config?.show_details},isAsset(){return this.meta?.is_asset||!1},isVideo(){return this.meta?.is_video||!1},isUploaded(){return!!this.value.id},isProxy(){return this.meta?.is_proxy||!1},playbackIds(){return Object.entries(this.value.playback_ids||{})}},methods:{t(o,r={}){return __(`statamic-mux::messages.fieldtype.${o}`,r)}}},P={class:"grid grid-cols-[minmax(0,1fr)] gap-3 justify-items-start"},D={class:"flex flex-wrap gap-2"},A={class:"w-full text-xs text-gray-600 dark:text-gray-300"},F={class:"divide-y divide-gray-800/10 dark:divide-white/10 [&_td]:px-1.5! [&_td]:py-2! [&_td:first-child]:pl-3! [&_td:last-child]:pr-3! [&_td]:text-left [&_svg]:opacity-60"},U={key:"id"},H={key:0},O={key:1};function B(o,r,v,g,p,e){const a=h("ui-badge"),m=h("ui-checkbox"),k=h("ui-icon"),b=h("ui-card"),d=S("tooltip");return t(),l("div",P,[!e.isAsset||!e.isVideo?i((t(),s(a,{key:0,pill:"",icon:"focus",color:"white"},{default:y(()=>[_(c(e.t("unmirrored")),1)]),_:1})),[[d,e.t(e.isVideo?"unmirrored_no_asset":"unmirrored_no_video")]]):e.isUploaded?(t(),l(w,{key:2},[u("div",D,[i((t(),s(a,{pill:"",icon:"checkmark",color:"green"},{default:y(()=>[_(c(e.t("uploaded")),1)]),_:1})),[[d,e.t("uploaded_tooltip")]]),e.isProxy?i((t(),s(a,{key:0,pill:"",icon:"page-ghost"},{default:y(()=>[_(c(e.t("proxy")),1)]),_:1})),[[d,e.t("proxy_tooltip")]]):n("",!0),e.showDetails?i((t(),s(a,{key:1,pill:"",icon:"info-square",as:"button",onClick:r[1]||(r[1]=f=>p.detailsExpanded=!p.detailsExpanded)},{default:y(()=>[_(c(e.t("details")),1)]),_:1})),[[d,e.t("details_tooltip")]]):n("",!0)]),e.showDetails&&p.detailsExpanded?(t(),s(b,{key:0,inset:"",variant:"flat",class:"w-full overflow-auto bg-gray-50! dark:bg-dark-800!"},{default:y(()=>[u("table",A,[u("tbody",F,[u("tr",U,[u("td",null,[i(x(k,{name:"fingerprint"},null,512),[[d,"MuxÂ ID"]])]),u("td",null,c(o.value.id),1)]),(t(!0),l(w,null,E(e.playbackIds,([f,R])=>(t(),l("tr",{key:R},[f==="signed"?(t(),l("td",H,[i(x(k,{name:"key"},null,512),[[d,"Signed Playback ID"]])])):(t(),l("td",O,[i(x(k,{name:"globals"},null,512),[[d,"Public Playback ID"]])])),u("td",null,c(R),1)]))),128))])])]),_:1})):n("",!0),e.showReuploadToggle?(t(),s(m,{key:1,modelValue:o.value.reupload,"onUpdate:modelValue":r[2]||(r[2]=f=>o.value.reupload=f),name:"reupload",label:e.t("reupload_on_save")},null,8,["modelValue","label"])):n("",!0)],64)):(t(),l(w,{key:1},[x(a,{pill:"",icon:"x-square",color:"amber"},{default:y(()=>[_(c(e.t("not_uploaded")),1)]),_:1}),e.showReuploadToggle?(t(),s(m,{key:0,modelValue:o.value.reupload,"onUpdate:modelValue":r[0]||(r[0]=f=>o.value.reupload=f),name:"reupload",label:e.t("upload_on_save")},null,8,["modelValue","label"])):n("",!0)],64))])}const N=C(I,[["render",B]]),q={mixins:[M],computed:{extension(){return this.values.extension.toLowerCase()},isAsset(){return this.values.basename&&this.values.extension},isVideo(){return["h264","mp4","m4v","ogv","webm","mov"].includes(this.extension)},isUploaded(){return this.value?.id||!1},isProxy(){return this.value?.is_proxy||!1}},methods:{t(o,r={}){return __(`statamic-mux::messages.fieldtype.${o}`,r)}}},z={key:0,class:"flex flex-wrap items-center gap-2"};function j(o,r,v,g,p,e){const a=h("ui-icon"),m=S("tooltip");return e.isAsset&&e.isVideo?(t(),l("div",z,[e.isUploaded?n("",!0):i((t(),s(a,{key:0,name:"x-square",class:"text-gray-400 dark:text-gray-600"},null,512)),[[m,e.t("not_uploaded")]]),e.isUploaded?i((t(),s(a,{key:1,name:"checkmark",class:"text-green-600"},null,512)),[[m,e.t("uploaded")]]):n("",!0),e.isUploaded&&e.isProxy?i((t(),s(a,{key:2,name:"page-ghost",class:"size-3.5!"},null,512)),[[m,e.t("proxy")]]):n("",!0)])):n("",!0)}const K=C(q,[["render",j]]);Statamic.$components.register("mux_mirror-fieldtype",N);Statamic.$components.register("mux_mirror-fieldtype-index",K);
